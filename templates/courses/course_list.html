{% extends "base.html" %}

{% block title %}Cursos | Maqaronesia{% endblock %}

{% block content %}
<div class="py-12 md:py-16 text-center max-w-3xl mx-auto flex flex-col items-center">
    <h1 class="text-4xl md:text-6xl font-extrabold font-heading mb-4 tracking-tight text-base-content uppercase">
        Maqaronesia <span class="text-primary">Academy</span>
    </h1>
    <p class="text-lg text-base-content/60 leading-relaxed font-medium">
        Rutas de aprendizaje estructuradas para ingenieros que buscan la excelencia.
    </p>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    {% for course in courses %}
    <div class="card premium-card group h-full flex flex-col">
        <figure class="aspect-video relative overflow-hidden bg-base-200">
            {% if course.image %}
            <img src="{{ course.image.url }}" alt="{{ course.title }}"
                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" />
            {% else %}
            <div class="w-full h-full flex items-center justify-center">
                <i data-lucide="book-open" class="w-12 h-12 text-primary/10"></i>
            </div>
            {% endif %}

            <div class="absolute top-4 left-4">
                <div
                    class="badge {% if course.price == 0 %}badge-success{% else %}badge-primary{% endif %} border-none font-bold text-[0.6rem] uppercase tracking-widest px-3 py-3">
                    {% if course.price == 0 %}Gratis{% else %}{{ course.price }}€{% endif %}
                </div>
            </div>
        </figure>

        <div class="p-6 flex flex-col flex-grow">
            <h2
                class="text-xl font-heading font-extrabold mb-3 leading-tight group-hover:text-primary transition-colors">
                {{ course.title }}
            </h2>
            <p class="text-base-content/60 text-sm leading-relaxed mb-6 flex-grow line-clamp-2">
                {{ course.description }}
            </p>

            <div class="pt-4 border-t border-base-200 flex items-center justify-between">
                <div
                    class="flex items-center gap-3 text-[0.6rem] font-bold text-base-content/40 uppercase tracking-widest">
                    <span class="flex items-center gap-1"><i data-lucide="users" class="w-3.5 h-3.5"></i> 124
                        Alumnos</span>
                </div>
                <a href="{% url 'courses:course_detail' course.slug %}"
                    class="btn btn-sm btn-ghost border border-base-300 hover:border-primary hover:text-primary rounded-lg px-4 transition-all">
                    Ver curso
                </a>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-span-full py-20 text-center bg-base-200/50 rounded-2xl border border-dashed border-base-300">
        <div class="max-w-md mx-auto">
            <i data-lucide="graduation-cap" class="w-10 h-10 text-primary mx-auto mb-4 opacity-20"></i>
            <h3 class="text-xl font-bold mb-2">Próximos lanzamientos</h3>
            <p class="text-base-content/60">Estamos puliendo los mejores cursos para ti. ¡Vuelve pronto!</p>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}