{% extends "base.html" %}

{% block title %}Blog | Maqaronesia{% endblock %}

{% block content %}
<div class="py-12 text-center max-w-3xl mx-auto">
    <h1 class="text-4xl md:text-5xl font-extrabold font-heading mb-4 text-base-content uppercase">
        Blog de <span class="text-primary">Maqaronesia</span>
    </h1>
    <p class="text-lg text-base-content/60 font-medium tracking-tight">
        Ingeniería, Calidad y Agilidad en el desarrollo de software.
    </p>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    {% for post in posts %}
    <div
        class="card premium-card bg-base-100 flex flex-col h-full overflow-hidden border border-base-200 hover:border-primary/30 transition-all group">
        {% if post.image %}
        <a href="{% url 'blog:post_detail' post.slug %}" class="block aspect-video overflow-hidden">
            <img src="{{ post.image.url }}" alt="{{ post.title }}"
                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" />
        </a>
        {% endif %}

        <div class="p-6 flex flex-col flex-grow">
            <div
                class="flex items-center gap-2 mb-3 text-[0.6rem] font-bold uppercase tracking-widest text-base-content/40">
                {% if post.category %}
                <span class="text-primary">{{ post.category.name }}</span>
                {% else %}
                <span>General</span>
                {% endif %}
                <span>•</span>
                <span>{{ post.read_time }} MIN</span>
            </div>

            <h2 class="text-xl font-heading font-extrabold mb-3 group-hover:text-primary transition-colors">
                <a href="{% url 'blog:post_detail' post.slug %}">{{ post.title }}</a>
            </h2>

            <p class="text-sm text-base-content/60 line-clamp-2 mb-6">
                {{ post.excerpt|default:post.content|striptags|truncatewords:20 }}
            </p>

            <div class="mt-auto pt-6 flex justify-between items-center">
                <div class="flex items-center gap-2 text-[0.6rem] font-bold text-base-content/40 uppercase">
                    <span>{{ post.author.username }}</span>
                    <span>•</span>
                    <span>{{ post.published_at|date:"d M Y" }}</span>
                </div>
                <a href="{% url 'blog:post_detail' post.slug %}"
                    class="btn btn-primary btn-xs rounded-lg px-4 font-bold uppercase tracking-tighter">
                    Leer más
                </a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}