{% extends "base.html" %}

{% block title %}{{ post.title }} | Maqaronesia{% endblock %}

{% block content %}
<article class="max-w-2xl mx-auto pt-8">
    <header class="mb-10">
        <div class="text-[0.6rem] font-bold uppercase tracking-widest text-primary mb-2">
            {% if post.category %}{{ post.category.name }}{% else %}General{% endif %}
        </div>
        <h1 class="text-3xl md:text-5xl font-extrabold font-heading text-base-content mb-6">{{ post.title }}</h1>

        <div
            class="flex items-center justify-between text-[0.6rem] font-bold text-base-content/40 uppercase tracking-widest py-4 border-y border-base-200">
            <span>{{ post.author.username }} • {{ post.published_at|date:"d M, Y" }}</span>
            <span>{{ post.read_time }} MIN READ</span>
        </div>
    </header>

    {% if post.image %}
    <div class="mb-10 rounded-xl overflow-hidden border border-base-200 shadow-sm">
        <img src="{{ post.image.url }}" alt="{{ post.title }}" class="w-full h-auto">
    </div>
    {% endif %}

    <div
        class="prose prose-slate max-w-none mb-12 prose-headings:font-heading prose-headings:font-extrabold prose-p:text-base-content/80 prose-a:text-primary prose-a:no-underline hover:prose-a:underline">
        {{ post.content|linebreaks }}
    </div>

    {% if post.tags.all %}
    <div class="flex flex-wrap gap-2 mb-16 pt-8 border-t border-base-200">
        {% for tag in post.tags.all %}
        <span
            class="badge badge-sm bg-base-200 border-none text-[0.6rem] font-bold uppercase tracking-widest px-3 py-3">#{{
            tag.name }}</span>
        {% endfor %}
    </div>
    {% endif %}

    <section class="bg-base-200 rounded-2xl p-8 border border-base-300">
        <div class="flex items-center gap-6">
            <div class="avatar placeholder">
                <div
                    class="bg-primary text-white rounded-xl w-16 h-16 text-2xl font-extrabold flex items-center justify-center">
                    {{ post.author.username|first|upper }}
                </div>
            </div>
            <div>
                <span class="text-[0.5rem] font-bold uppercase tracking-widest text-primary">Enviado por</span>
                <h3 class="text-lg font-heading font-extrabold text-base-content">{{ post.author.username }}</h3>
                <p class="text-xs text-base-content/60 mt-1 max-w-md">Divulgador tecnológico apasionado por la
                    excelencia técnica.</p>
            </div>
        </div>
    </section>
</article>
{% endblock %}