{% extends "base.html" %}

{% block title %}{{ post.title }} | Maqaronesia{% endblock %}

{% block content %}
<article class="max-w-2xl mx-auto pt-8">
    <header class="mb-10">
        <div class="text-[0.6rem] font-bold uppercase tracking-widest text-primary mb-2">
            {% if post.category %}{{ post.category.name }}{% else %}General{% endif %}
        </div>
        <h1 class="text-3xl md:text-5xl font-extrabold font-heading text-base-content mb-6">{{ post.title }}</h1>

        <div
            class="flex items-center justify-between text-[0.6rem] font-bold text-base-content/40 uppercase tracking-widest py-4 border-y border-base-200">
            <span>{{ post.author.username }} â€¢ {{ post.published_at|date:"d M, Y" }}</span>
            <span>{{ post.read_time }} MIN READ</span>
        </div>
    </header>

    {% if post.image %}
    <div class="mb-10 rounded-xl overflow-hidden border border-base-200 shadow-sm">
        <img src="{{ post.image.url }}" alt="{{ post.title }}" class="w-full h-auto">
    </div>
    {% endif %}

    <div
        class="prose prose-slate max-w-none mb-12 prose-headings:font-heading prose-headings:font-extrabold prose-p:text-base-content/80 prose-a:text-primary prose-a:no-underline hover:prose-a:underline">
        {{ post.content|linebreaks }}
    </div>

    {% if post.tags.all %}
    <div class="flex flex-wrap gap-2 py-8 border-y border-base-200">
        {% for tag in post.tags.all %}
        <span class="badge badge-sm bg-base-200 border-none text-xs font-bold uppercase tracking-wide px-4 py-2">#{{ tag.name }}</span>
        {% endfor %}
    </div>
    {% endif %}

    <div class="pt-8">
        <p class="text-[0.6rem] font-bold uppercase tracking-widest text-base-content/40 mb-1">Escrito por</p>
        <p class="text-base font-heading font-bold text-base-content">{{ post.author.username }}</p>
        <p class="text-sm text-base-content/60 mt-2">{{ post.author.bio|default:"Autor de MaQAronesia" }}</p>
    </div>
</article>
{% endblock %}